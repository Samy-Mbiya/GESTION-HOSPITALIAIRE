{% extends 'base.html' %}
{% load form_tags %}
{% block title %}
  <title>ListeClient</title>
{% endblock %}
{% block content %}

    <!-- DataTales Example -->
    <div class="card shadow mb-4">
        <div class="card-header py-3 alert-info">
            <h6 class="m-0 font-weight-bold text-primary">Liste des clients</h6>
        </div>
            <div class="card-body">
                     <div class="row">
                         <div class="col-sm-12 col-md-4">
                             <div class="dataTables_length" id="dataTable_length">
                                 <form method="GET" action="">
                                     <div id="dataTable_filter" class="dataTables_filter">
                                         <label>Search:<input type="text" value="{{ query|default:'' }}" name="rech" class="form-control form-control-sm" placeholder="" aria-controls="dataTable"></label>
                                         <button type="submit" class="btn btn-secondary">ğŸ”Search</button>
                                     </div>
                                 </form>
                             </div>
                         </div>
                         <div class="col-sm-12 col-md-4">

                         </div>
                         <div class="col-sm-12 col-md-4">
                             <div  class="dataTables_filter">
                                 <label>Nouveau:
                                     <a href="{% url 'registerclient' %}" class="d-none d-sm-inline-block btn btn-sm btn-info shadow-sm form-control form-control-sm">
                                       ğŸ’¾ Nouveau-Client
                                     </a>
                                 </label>
                             </div>
                         </div>
                     </div>
                <div class="table-responsive">
                    {% if clients %}
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Client</th>
                                <th>Honoraire</th>
                                <th>Facture</th>
                                <th>Modification</th>
                                  {% if user.is_authenticated and user.is_superuser %}
                                    <th>Suppression</th>
                                  {% endif %}
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                               <th>Client</th>
                                <th>Honoraire</th>
                                <th>Facture</th>
                                <th>Modification</th>
                                {% if user.is_authenticated and user.is_superuser %}
                                    <th>Suppression</th>
                                  {% endif %}
                            </tr>
                        </tfoot>
                        <tbody>
                              {% for client in clients %}
                                <tr>
                                    <td>{{ client.nom }}</td>
                                    <td><a href="{% url 'list_Hon' client.id %}" class="btn btn-info ">ğŸ“<span class="text">Honoraire</span></a></td>
                                    <td><a href="{% url 'list_Fac' client.id %}" class="btn btn-info">ğŸ§¾ <span class="text">Facture</span></a></td>
                                     <td>
                                      <a href="{% url 'editclient' client.id %}" class="btn btn-info"><span class="text">âœï¸ Modifier</span></a>
                                    </td>
                                    {% if user.is_authenticated and user.is_superuser %}
                                        <td>
                                            <a href="{% url 'suppclient' client.id %}" class="btn btn-info"><span class="text">âŒ Supprimer</span></a>
                                         </td>
                                    {% endif %}

                                </tr>
                              {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                        <p>Aucun client trouvÃ© pour "{{ query}}"</p>
                    {% endif %}
                </div>
            </div>
    </div>
{% endblock %}